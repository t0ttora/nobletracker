/* Dark popup theme with #ff5a26 accent */
:root {
	--accent:#ff5a26;
	--accent-glow:0 4px 14px -2px rgba(255,90,38,0.55);
	--bg:#000000; /* pure black background as requested */
	--panel:#1a1a1a; /* unified card/panel color */
	--panel-alt:#1f1f1f;
	--border:#2a2a2a;
	--text:#f5f7fa;
	--text-dim:#9aa2af;
	--danger:#ef4444;
	--radius:14px;
	--font: 'Inter', system-ui, Arial, sans-serif;
	--transition:160ms cubic-bezier(.4,0,.2,1);
}
* { box-sizing:border-box; }
body { font-family:var(--font); margin:0; width:320px; background:var(--bg); color:var(--text); padding:10px 10px 14px; }
.shell { display:flex; flex-direction:column; gap:12px; }

/* Header */
.app-bar { display:flex; justify-content:space-between; align-items:center; background:var(--panel); padding:10px 12px; border:1px solid var(--border); border-radius:var(--radius); box-shadow:0 2px 6px -2px rgba(0,0,0,.55); }
.brand { font-size:.9rem; font-weight:600; letter-spacing:.5px; display:flex; align-items:center; }
.brand .dot { width:7px; height:7px; background:var(--accent); border-radius:50%; margin-left:6px; box-shadow:0 0 0 4px rgba(255,90,38,0.25); }

select#userSelect { background:var(--panel-alt); color:var(--text); border:1px solid var(--border); padding:6px 8px; border-radius:10px; font-size:.65rem; letter-spacing:.3px; cursor:pointer; }
select#userSelect:hover { background:#222831; }

/* Session */
.session-block { background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); padding:12px 14px 14px; display:flex; flex-direction:column; gap:12px; box-shadow:0 2px 6px -2px rgba(0,0,0,.5); }
.timer { font-size:1.9rem; font-weight:600; text-align:center; letter-spacing:1px; }
.session-actions { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
.meta-fields { display:flex; }
#projectTagInput { flex:1; background:var(--panel-alt); border:1px solid var(--border); color:var(--text); padding:6px 8px; border-radius:8px; font-size:.6rem; }
#projectTagInput:disabled { opacity:.5; }
.notes-field textarea { width:100%; resize:vertical; background:#141414; color:var(--text); border:1px solid var(--border); border-radius:8px; font-size:.6rem; padding:6px 8px; font-family:var(--font); }
.notes-field textarea:focus { outline:2px solid var(--accent); outline-offset:2px; }

button { font-family:inherit; font-size:.72rem; letter-spacing:.4px; border:none; border-radius:10px; padding:8px 10px; cursor:pointer; font-weight:500; background:var(--panel-alt); color:var(--text); display:inline-flex; align-items:center; justify-content:center; position:relative; overflow:hidden; transition:var(--transition); }
button:hover { background:#242424; }
button.primary { background:var(--accent); color:#fff; box-shadow:var(--accent-glow); font-weight:600; }
button.primary:hover { filter:brightness(1.08); }
button.danger { background:#351d18; color:#ff8b6a; border:1px solid #4a2a23; }
button.danger:disabled { opacity:.35; cursor:default; }
button:disabled { opacity:.45; cursor:default; }

/* Quick actions */
.quick-actions { display:grid; grid-template-columns:repeat(4,1fr); gap:6px; background:var(--panel); padding:10px; border:1px solid var(--border); border-radius:var(--radius); }
.quick-actions button { padding:8px 0; font-size:.63rem; }

/* Tasks Panel */
.tasks-panel { background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); padding:12px 12px 10px; display:flex; flex-direction:column; gap:8px; }
.tasks-header { display:flex; align-items:center; gap:8px; }
.tasks-header h4 { margin:0; font-size:.7rem; font-weight:600; letter-spacing:.5px; color:var(--text-dim); }
input#taskSearch { flex:1; background:var(--panel-alt); border:1px solid var(--border); color:var(--text); padding:6px 8px; border-radius:8px; font-size:.65rem; }
input#taskSearch::placeholder { color:#5a6470; }
ul { list-style:none; margin:0; padding:0; }
ul#tasksList.recent { max-height:86px; overflow:auto; }
ul#tasksList.recent::-webkit-scrollbar, .full-tasks ul::-webkit-scrollbar { width:6px; }
ul#tasksList.recent::-webkit-scrollbar-thumb, .full-tasks ul::-webkit-scrollbar-thumb { background:#2c343d; border-radius:3px; }
li { display:flex; align-items:center; justify-content:space-between; font-size:.63rem; padding:4px 2px 4px 0; border-bottom:1px solid rgba(255,255,255,0.05); gap:6px; }
li:last-child { border-bottom:none; }
li button { font-size:.55rem; padding:4px 6px; background:#262626; border:1px solid #333333; border-radius:6px; }
li button:hover { background:#2f2f2f; }

.full-tasks { border-top:1px dashed rgba(255,255,255,0.08); padding-top:4px; }
.full-tasks ul { max-height:150px; overflow:auto; }
.pager { display:flex; gap:6px; align-items:center; margin-top:6px; }
.pager button { flex:0 0 auto; font-size:.55rem; padding:4px 6px; }
.pager span { flex:1; text-align:center; font-size:.55rem; color:var(--text-dim); }

.tasks-footer { display:flex; justify-content:space-between; gap:8px; }
button.ghost { background:var(--panel-alt); border:1px solid var(--border); color:var(--text-dim); font-weight:500; }
button.ghost:hover { color:var(--text); background:#242b34; }
button.small { padding:6px 8px; font-size:.55rem; }

/* Status */
.status { min-height:18px; font-size:.58rem; text-align:center; color:var(--accent); letter-spacing:.5px; }
.status a { color:#ffd2c4; text-decoration:none; font-weight:600; }
.status a:hover { text-decoration:underline; }

/* Empty states */
.empty-inline { font-size:.55rem; color:#5d5d5d; letter-spacing:.3px; padding:4px 0; text-align:center; width:100%; }
.empty-inline strong { color:var(--text); font-weight:600; }

/* Focus Mode */
body.focus-mode .quick-actions, body.focus-mode .tasks-panel { display:none; }
body.focus-mode .session-block { padding:18px 14px 22px; }
body.focus-mode .timer { font-size:2.3rem; }
body.focus-mode .shell { gap:10px; }

/* Accessibility */
button:focus-visible, input:focus-visible, select:focus-visible { outline:2px solid var(--accent); outline-offset:2px; }

@media (prefers-reduced-motion: reduce) { * { transition:none !important; } }
